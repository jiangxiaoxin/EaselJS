<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>EaselJS Example: Text</title>

  <link href="../_assets/css/shared.css" rel="stylesheet" type="text/css" />
  <link href="../_assets/css/examples.css" rel="stylesheet" type="text/css" />
  <script src="../_assets/js/examples.js"></script>

  <script src="../lib/easeljs-NEXT.js"></script>
  <!-- We also provide hosted minified versions of all CreateJS libraries.
	  http://code.createjs.com -->

  <script id="editable">
    function init() {
      // get a reference to the canvas we'll be working with:
      var canvas = document.getElementById("testCanvas");

      // create a stage object to work with the canvas. This is the top level node in the display list:
      var stage = new createjs.Stage(canvas);

      // Create a new Text object:
      var text = new createjs.Text("Hello World!", "36px Arial", "#777");
      text.textAlign = "center";

      // add the text as a child of the stage. This means it will be drawn any time the stage is updated
      // and that its transformations will be relative to the stage coordinates:
      stage.addChild(text);

      // position the text on screen, relative to the stage coordinates:
      text.x = canvas.width / 2;
      text.y = 180;

      // call update on the stage to make it render the current display list to the canvas:
      stage.update();

      console.log('inited')

      createjs.Ticker.addEventListener('tick', tickHandler)

      function tickHandler() {

        text.rotation += 1

        stage.update()
      }


      var a = {}
      var b = {}

      a['click'] = ['a_click_1']
      a['down'] = ['a_down_1', 'a_down_2', 'a_down_3']

      var arr = a['click']

      console.log(a)

      delete a['click']

      console.log(a)

      function vv() {
        var v = 10

        while (v > 0) {
          if (v > 5) {
            console.log(v)
            return true
          }
          console.log(v)
          v -= 1
        }
        console.log(v)
        return false
      }

      console.log(vv())





      /**
       * 两种方式，耗时差不多是2倍的关系
       */

      var count = 1000000

      var loop = 5

      var time
      var end
      var start
      var times
      var all


      times = []
      for (var m = 0; m < loop; m++) {
        start = Date.now()
        for (var i = 0; i < count; i++) {
          time = Date.now()
        }
        end = Date.now()
        console.log('Date.now()', (end - start) / 1000)
        times.push(end - start)
      }

      all = times.reduce(function (prev, current) {
        return prev + current
      })

      console.log('>>>>>> Date.now() average:', all / loop / 1000) // 0.1138s



      times = []
      for (var m = 0; m < loop; m++) {
        start = new Date().getTime()
        for (var i = 0; i < count; i++) {
          time = new Date().getTime()
        }
        end = new Date().getTime()
        console.log('new Date().getTime()', (end - start) / 1000)
        times.push(end - start)
      }

      all = times.reduce(function (prev, current) {
        return prev + current
      })

      console.log('>>>>>> new Date().getTime() average:', all / loop / 1000) // 0.2112s



    }
  </script>
</head>

<body onload="init();">

  <header class="EaselJS">
    <h1>Hello World!</h1>

    <p>Hello World example using <code>Text</code> and <code>Stage</code>.</p>
  </header>

  <div>
    <canvas id="testCanvas" width="960" height="400"></canvas>
  </div>
</body>

</html>